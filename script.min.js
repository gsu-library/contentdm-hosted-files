function gsuFixes(){if(!document.getElementById("gsuFont")){var e=document.createElement("link");e.id="gsuFont",e.rel="stylesheet",e.href="https://fonts.googleapis.com/css?family=Lato&display=swap",document.head.appendChild(e)}if(!document.getElementById("gsuWrapper")){var t=document.querySelector(".CoreLayout-mainWrapperContainer"),n=t.parentNode;(u=document.createElement("div")).className="container",u.setAttribute("id","gsuWrapper"),n.insertBefore(u,t),u.appendChild(t)}if(!document.getElementById("gsuTitle")){var a=document.getElementById("headerNameDiv"),r=document.createElement("h2");r.innerHTML='<a href="https://digital.library.gsu.edu">Digital Collections</a>';var d=document.createElement("h3");d.innerHTML='<a href="https://library.gsu.edu/">Georgia State University Library</a>';var i=document.createElement("div");i.setAttribute("id","gsuTitle"),i.innerHTML=r.outerHTML+d.outerHTML,a.innerHTML=i.outerHTML}if(!document.getElementById("gsuHeader")){var o=document.querySelector(".Header-logoNameContainer"),c=document.querySelector(".Header-logoHolder");c.classList.add("col-sm-3");var l=document.getElementById("headerNameDiv");l.classList.add("col-sm-6");var s=document.querySelector(".SimpleSearch-searchBox");s.classList.add("col-sm-3");var u=document.createElement("div");u.setAttribute("id","gsuHeader"),u.className="row",o.insertBefore(u,c),u.appendChild(c),u.appendChild(l),u.appendChild(s)}}document.addEventListener("cdm-home-page:ready",function(){gsuFixes();document.querySelectorAll(".Card-cardcontainer.col-sm-6").forEach(function(e){e.classList.remove("col-sm-6"),e.classList.add("col-sm-3")})}),document.addEventListener("cdm-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-advanced-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-landing-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-item-page:ready",function(){gsuFixes();var e=document.querySelector(".field-identi .field-value span");e=e?e.innerHTML:null;var t=document.querySelector(".field-georef .field-value span");t=!!t&&"yes"==t.innerHTML.toLowerCase();var n=document.querySelector(".ItemUrl-itemUrlLink a");n=n?n.href.replace(/^http:\/\//i,"https://"):null;var a=window.location.href.match(/collection\/([a-zA-Z0-9-_]+)\//i)[1];if(n){console.log("This is an item link page.");var r="https://webapps.library.gsu.edu/ohms-viewer/viewer.php",d=document.querySelector(".ItemPreview-container"),i=null;n.substring(0,r.length)==r?i='<iframe src="'+n+'" width="100%" height="700"></iframe>':"https://www.youtube.com"==n.substring(0,"https://www.youtube.com".length)&&(i='<iframe src="'+n+'" width="700" height="400" style="margin:0 auto;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'),i&&d&&(d.innerHTML=i)}if(e&&a&&t){console.log("This item is georeferenced with a collection of "+a+"and an id of "+e+".");var o="https://geo.library.gsu.edu/mapoverlay.php?collection="+a+"&map="+e,c="https://geo.library.gsu.edu/geoserver/wms/kml?layers="+e,l="https://geo.library.gsu.edu/geotiffs/"+a+"/"+e+"_geo.tif",s=document.createElement("tr"),u=document.querySelector(".item-description"),m=document.createDocumentFragment();s.innerHTML='<td>Google Maps</td><td><a href="'+o+'">Link</a></td>',m.appendChild(s),(s=document.createElement("tr")).innerHTML='<td>Google Earth</td><td><a href="'+c+'">Link</a></td>',m.appendChild(s),(s=document.createElement("tr")).innerHTML='<td>Download GeoTiff</td><td><a href="'+l+'">Link</a></td>',m.appendChild(s),u.appendChild(m)}if(e&&a&&"atlphdata"==a){console.log("ATL Population and Housing Data.");var p="https://static.library.gsu.edu/atlphdata/excel/"+e+".xls",g="https://static.library.gsu.edu/atlphdata/csv/"+e+".zip",s=document.createElement("tr"),u=document.querySelector(".item-description"),m=document.createDocumentFragment();s.innerHTML='<td>Excel Tables</td><td><a href="'+p+'">Link</a></td>',m.appendChild(s),(s=document.createElement("tr")).innerHTML='<td>CSV Tables</td><td><a href="'+g+'">Link</a></td>',m.appendChild(s),s=document.createElement("tr"),u.appendChild(m)}if(e&&a&&("planATLpubs"==a||"atlphdata"==a)){console.log("Adding search link to planATLpubs and atlphdata.");var h=window.location.origin+"/digital/search/collection/atlmaps/searchterm/"+e,s=document.createElement("tr"),u=document.querySelector(".item-description");s.innerHTML='<td>View Maps from this Publication</td><td><a href="'+h+'">Link</a></td>',u.appendChild(s)}}),document.addEventListener("cdm-custom-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-about-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-login-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-notfound-page:ready",function(){gsuFixes()});