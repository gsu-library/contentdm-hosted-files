function gsuFixes(){var e=!1,t=document.location.search.slice(1).split("&");for(a=0;a<t.length;a++)if(temp=t[a].split("="),temp.length&&"debug"==temp[0]&&temp.length>1&&temp[1]){e=!0;break}if(e){links=document.getElementsByTagName("link");for(var a=0;a<links.length;a++)if("/customizations/global//styles.min.css"==links[a].getAttribute("href")){console.log("Removing local CSS."),links[a].parentNode.removeChild(links[a]),console.log("Adding CSS from static.");if(!document.getElementById("gsuStyle")){(n=document.createElement("link")).id="gsuStyle",n.rel="stylesheet",n.href="https://static.library.gsu.edu/contentdm/styles.css",document.head.appendChild(n)}break}}if(!document.getElementById("gsuFont")){var n=document.createElement("link");n.id="gsuFont",n.rel="stylesheet",n.href="https://fonts.googleapis.com/css?family=Lato&display=swap",document.head.appendChild(n)}var r=document.getElementById("search-input");r&&r.addEventListener("keydown",function(e){13===e.keyCode&&(r.blur(),document.body.focus())});if(!document.getElementById("gsuWrapper")){var o=document.querySelector(".CoreLayout-mainWrapperContainer"),i=o.parentNode;(f=document.createElement("div")).className="container",f.setAttribute("id","gsuWrapper"),i.insertBefore(f,o),f.appendChild(o)}if(!document.getElementById("gsuTitle")){var d=document.getElementById("headerNameDiv"),l=document.createElement("h2");l.innerHTML='<a href="https://digitalcollections.library.gsu.edu">Digital Collections</a>';var s=document.createElement("h3");s.innerHTML='<a href="https://library.gsu.edu/">Georgia State University Library</a>';var c=document.createElement("div");c.setAttribute("id","gsuTitle"),c.innerHTML=l.outerHTML+s.outerHTML,d.innerHTML=c.outerHTML}if(!document.getElementById("gsuHeader")){var u=document.querySelector(".Header-logoNameContainer"),m=document.querySelector(".Header-logoHolder");m.classList.add("col-sm-3");var p=document.getElementById("headerNameDiv");p.classList.add("col-sm-6");var g=document.querySelector(".SimpleSearch-searchBox");g.classList.add("col-sm-3");var f=document.createElement("div");f.setAttribute("id","gsuHeader"),f.className="row",u.insertBefore(f,m),f.appendChild(m),f.appendChild(p),f.appendChild(g),document.querySelector(".Header-logoImage").parentNode.href="https://library.gsu.edu"}}function gsuHomePageReady(){var e=document.querySelectorAll(".Card-cardcontainer.col-sm-6");for(i=0;i<e.length;i++)e[i].classList.remove("col-sm-6"),e[i].classList.add("col-sm-3")}function gsuItemPageReady(){var e=document.querySelector(".field-identi .field-value span");e=e?e.innerHTML:null;var t=document.querySelector(".field-georef .field-value span");t=!!t&&"yes"==t.innerHTML.toLowerCase();var a=document.querySelector(".ItemUrl-itemUrlLink a");a=a?a.href.replace(/^http:\/\//i,"https://"):null;var n=window.location.href.match(/collection\/([a-zA-Z0-9-_]+)\//i)[1];if(a){console.log("This is an item link page.");var r="https://webapps.library.gsu.edu/ohms-viewer/viewer.php",o=document.querySelector(".ItemPreview-container"),d=null;a.substring(0,r.length)==r?d='<iframe src="'+a+'" width="100%" height="700"></iframe>':"https://www.youtube.com"==a.substring(0,"https://www.youtube.com".length)&&(d='<iframe src="'+a+'" width="700" height="400" style="margin:0 auto;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'),d&&o&&(o.innerHTML=d)}if(e&&n&&t){console.log("This item is georeferenced with a collection of "+n+"and an id of "+e+".");var l="https://geo.library.gsu.edu/mapoverlay.php?collection="+n+"&map="+e,s="https://geo.library.gsu.edu/geoserver/wms/kml?layers="+e,c="https://geo.library.gsu.edu/geotiffs/"+n+"/"+e+"_geo.tif",u=document.createDocumentFragment();(f=document.createElement("div")).className="btn-group btn-group-default",f.innerHTML='<a class="cdm-btn btn btn-primary" target="_blank" href="'+l+'"><span class="fa fa-2x fa-map"> Map Overlay</span></a>',u.appendChild(f),(f=document.createElement("div")).className="btn-group btn-group-default",f.innerHTML='<a class="cdm-btn btn btn-primary" href="'+s+'"><span class="fa fa-2x fa-globe"> Google Earth</span></a>',u.appendChild(f),(f=document.createElement("div")).className="btn-group btn-group-default",f.innerHTML='<a class="cdm-btn btn btn-primary" href="'+c+'"><span class="fa fa-2x fa-download"> GeoTiff</span></a>',u.appendChild(f);h=document.querySelectorAll(".btn-toolbar");for(i=0;i<h.length;i++)h[i].appendChild(u.cloneNode(!0))}if(e&&n&&"atlphdata"==n){console.log("ATL Population and Housing Data.");var m="https://static.library.gsu.edu/atlphdata/excel/"+e+".xls",p="https://static.library.gsu.edu/atlphdata/csv/"+e+".zip",u=document.createDocumentFragment();(f=document.createElement("div")).className="btn-group btn-group-default",f.innerHTML='<a class="cdm-btn btn btn-primary" href="'+m+'"><span class="fa fa-2x fa-file"> Excel</span></a>',u.appendChild(f),(f=document.createElement("div")).className="btn-group btn-group-default",f.innerHTML='<a class="cdm-btn btn btn-primary" href="'+p+'"><span class="fa fa-2x fa-file"> CSV</span></a>',u.appendChild(f);h=document.querySelectorAll(".btn-toolbar");for(i=0;i<h.length;i++)h[i].appendChild(u.cloneNode(!0))}if(e&&n&&("planATLpubs"==n||"atlphdata"==n)){console.log("Adding search link to planATLpubs and atlphdata.");var g="/digital/search/collection/atlmaps/searchterm/"+e,f=document.createElement("div");f.className="btn-group btn-group-default",f.innerHTML='<a class="cdm-btn btn btn-primary" href="'+g+'"><span class="fa fa-2x fa-search"> View Item\'s Maps</span></a>';var h=document.querySelectorAll(".btn-toolbar");for(i=0;i<h.length;i++)h[i].appendChild(f.cloneNode(!0))}}document.addEventListener("cdm-home-page:ready",function(){gsuFixes(),gsuHomePageReady()}),document.addEventListener("cdm-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-advanced-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-landing-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-item-page:ready",function(){gsuFixes(),gsuItemPageReady()}),document.addEventListener("cdm-custom-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-about-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-login-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-notfound-page:ready",function(){gsuFixes()});