function gsuFixes(){var e=new URL(document.location).searchParams.get("debug");if(e=!!e){links=document.getElementsByTagName("link");for(var t=0;t<links.length;t++)if("/customizations/global//styles.min.css"==links[t].getAttribute("href")){console.log("Removing local CSS."),links[t].parentNode.removeChild(links[t]),console.log("Adding CSS from static.");if(!document.getElementById("gsuStyle")){(a=document.createElement("link")).id="gsuStyle",a.rel="stylesheet",a.href="https://static.library.gsu.edu/contentdm/styles.css",document.head.appendChild(a)}break}}if(!document.getElementById("gsuFont")){var a=document.createElement("link");a.id="gsuFont",a.rel="stylesheet",a.href="https://fonts.googleapis.com/css?family=Lato&display=swap",document.head.appendChild(a)}if(!document.getElementById("gsuWrapper")){var n=document.querySelector(".CoreLayout-mainWrapperContainer"),r=n.parentNode;(p=document.createElement("div")).className="container",p.setAttribute("id","gsuWrapper"),r.insertBefore(p,n),p.appendChild(n)}if(!document.getElementById("gsuTitle")){var o=document.getElementById("headerNameDiv"),d=document.createElement("h2");d.innerHTML='<a href="https://digitalcollections.library.gsu.edu">Digital Collections</a>';var s=document.createElement("h3");s.innerHTML='<a href="https://library.gsu.edu/">Georgia State University Library</a>';var l=document.createElement("div");l.setAttribute("id","gsuTitle"),l.innerHTML=d.outerHTML+s.outerHTML,o.innerHTML=l.outerHTML}if(!document.getElementById("gsuHeader")){var i=document.querySelector(".Header-logoNameContainer"),c=document.querySelector(".Header-logoHolder");c.classList.add("col-sm-3");var u=document.getElementById("headerNameDiv");u.classList.add("col-sm-6");var m=document.querySelector(".SimpleSearch-searchBox");m.classList.add("col-sm-3");var p=document.createElement("div");p.setAttribute("id","gsuHeader"),p.className="row",i.insertBefore(p,c),p.appendChild(c),p.appendChild(u),p.appendChild(m),document.querySelector(".Header-logoImage").parentNode.href="https://library.gsu.edu"}}function gsuHomePageReady(){document.querySelectorAll(".Card-cardcontainer.col-sm-6").forEach(function(e){e.classList.remove("col-sm-6"),e.classList.add("col-sm-3")})}function gsuItemPageReady(){var e=document.querySelector(".field-identi .field-value span");e=e?e.innerHTML:null;var t=document.querySelector(".field-georef .field-value span");t=!!t&&"yes"==t.innerHTML.toLowerCase();var a=document.querySelector(".ItemUrl-itemUrlLink a");a=a?a.href.replace(/^http:\/\//i,"https://"):null;var n=window.location.href.match(/collection\/([a-zA-Z0-9-_]+)\//i)[1];if(a){console.log("This is an item link page.");var r="https://webapps.library.gsu.edu/ohms-viewer/viewer.php",o=document.querySelector(".ItemPreview-container"),d=null;a.substring(0,r.length)==r?d='<iframe src="'+a+'" width="100%" height="700"></iframe>':"https://www.youtube.com"==a.substring(0,"https://www.youtube.com".length)&&(d='<iframe src="'+a+'" width="700" height="400" style="margin:0 auto;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'),d&&o&&(o.innerHTML=d)}if(e&&n&&t){console.log("This item is georeferenced with a collection of "+n+"and an id of "+e+".");var s="https://geo.library.gsu.edu/mapoverlay.php?collection="+n+"&map="+e,l="https://geo.library.gsu.edu/geoserver/wms/kml?layers="+e,i="https://geo.library.gsu.edu/geotiffs/"+n+"/"+e+"_geo.tif",c=document.createDocumentFragment();(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a target="_blank" href="'+s+'"><span class="fa fa-2x fa-map"> Map Overlay</span></a></button>',c.appendChild(g),(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+l+'"><span class="fa fa-2x fa-globe"> Google Earth</span></a></button>',c.appendChild(g),(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+i+'"><span class="fa fa-2x fa-download"> GeoTiff</span></a></button>',c.appendChild(g);(f=document.querySelectorAll(".btn-toolbar")).forEach(function(e){e.appendChild(c.cloneNode(!0))})}if(e&&n&&"atlphdata"==n){console.log("ATL Population and Housing Data.");var u="https://static.library.gsu.edu/atlphdata/excel/"+e+".xls",m="https://static.library.gsu.edu/atlphdata/csv/"+e+".zip",c=document.createDocumentFragment();(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+u+'"><span class="fa fa-2x fa-file"> Excel</span></a></button>',c.appendChild(g),(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+m+'"><span class="fa fa-2x fa-file"> CSV</span></a></button>',c.appendChild(g);(f=document.querySelectorAll(".btn-toolbar")).forEach(function(e){e.appendChild(c.cloneNode(!0))})}if(e&&n&&("planATLpubs"==n||"atlphdata"==n)){console.log("Adding search link to planATLpubs and atlphdata.");var p="/digital/search/collection/atlmaps/searchterm/"+e,g=document.createElement("div");g.className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+p+'"><span class="fa fa-2x fa-search"> View Item\'s Maps</span></a></button>';var f=document.querySelectorAll(".btn-toolbar");f.forEach(function(e){e.appendChild(g.cloneNode(!0))})}}document.addEventListener("cdm-home-page:ready",function(){gsuFixes(),gsuHomePageReady()}),document.addEventListener("cdm-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-advanced-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-landing-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-item-page:ready",function(){gsuFixes(),gsuItemPageReady()}),document.addEventListener("cdm-custom-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-about-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-login-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-notfound-page:ready",function(){gsuFixes()});