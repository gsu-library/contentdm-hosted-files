function gsuFixes(){if(!document.getElementById("gsuStyle")){(e=document.createElement("link")).id="gsuStyle",e.rel="stylesheet",e.href="https://static.library.gsu.edu/contentdm/styles.css",document.head.appendChild(e)}if(!document.getElementById("gsuFont")){var e=document.createElement("link");e.id="gsuFont",e.rel="stylesheet",e.href="https://fonts.googleapis.com/css?family=Lato&display=swap",document.head.appendChild(e)}if(!document.getElementById("gsuWrapper")){var t=document.querySelector(".CoreLayout-mainWrapperContainer"),a=t.parentNode;(u=document.createElement("div")).className="container",u.setAttribute("id","gsuWrapper"),a.insertBefore(u,t),u.appendChild(t)}if(!document.getElementById("gsuTitle")){var n=document.getElementById("headerNameDiv"),r=document.createElement("h2");r.innerHTML='<a href="https://digital.library.gsu.edu">Digital Collections</a>';var o=document.createElement("h3");o.innerHTML='<a href="https://library.gsu.edu/">Georgia State University Library</a>';var d=document.createElement("div");d.setAttribute("id","gsuTitle"),d.innerHTML=r.outerHTML+o.outerHTML,n.innerHTML=d.outerHTML}if(!document.getElementById("gsuHeader")){var s=document.querySelector(".Header-logoNameContainer"),c=document.querySelector(".Header-logoHolder");c.classList.add("col-sm-3");var i=document.getElementById("headerNameDiv");i.classList.add("col-sm-6");var l=document.querySelector(".SimpleSearch-searchBox");l.classList.add("col-sm-3");var u=document.createElement("div");u.setAttribute("id","gsuHeader"),u.className="row",s.insertBefore(u,c),u.appendChild(c),u.appendChild(i),u.appendChild(l),document.querySelector(".Header-logoImage").parentNode.href="https://library.gsu.edu"}}function gsuHomePageReady(){document.querySelectorAll(".Card-cardcontainer.col-sm-6").forEach(function(e){e.classList.remove("col-sm-6"),e.classList.add("col-sm-3")})}function gsuItemPageReady(){var e=document.querySelector(".field-identi .field-value span");e=e?e.innerHTML:null;var t=document.querySelector(".field-georef .field-value span");t=!!t&&"yes"==t.innerHTML.toLowerCase();var a=document.querySelector(".ItemUrl-itemUrlLink a");a=a?a.href.replace(/^http:\/\//i,"https://"):null;var n=window.location.href.match(/collection\/([a-zA-Z0-9-_]+)\//i)[1];if(a){console.log("This is an item link page.");var r="https://webapps.library.gsu.edu/ohms-viewer/viewer.php",o=document.querySelector(".ItemPreview-container"),d=null;a.substring(0,r.length)==r?d='<iframe src="'+a+'" width="100%" height="700"></iframe>':"https://www.youtube.com"==a.substring(0,"https://www.youtube.com".length)&&(d='<iframe src="'+a+'" width="700" height="400" style="margin:0 auto;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'),d&&o&&(o.innerHTML=d)}if(e&&n&&t){console.log("This item is georeferenced with a collection of "+n+"and an id of "+e+".");var s="https://geo.library.gsu.edu/mapoverlay.php?collection="+n+"&map="+e,c="https://geo.library.gsu.edu/geoserver/wms/kml?layers="+e,i="https://geo.library.gsu.edu/geotiffs/"+n+"/"+e+"_geo.tif",l=document.createDocumentFragment();(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a target="_blank" href="'+s+'"><span class="fa fa-2x fa-map"> Maps</span></a></button>',l.appendChild(g),(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+c+'"><span class="fa fa-2x fa-globe"> Google Earth</span></a></button>',l.appendChild(g),(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+i+'"><span class="fa fa-2x fa-download"> GeoTiff</span></a></button>',l.appendChild(g);(f=document.querySelectorAll(".btn-toolbar")).forEach(function(e){e.appendChild(l.cloneNode(!0))})}if(e&&n&&"atlphdata"==n){console.log("ATL Population and Housing Data.");var u="https://static.library.gsu.edu/atlphdata/excel/"+e+".xls",m="https://static.library.gsu.edu/atlphdata/csv/"+e+".zip",l=document.createDocumentFragment();(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+u+'"><span class="fa fa-2x fa-file"> Excel</span></a></button>',l.appendChild(g),(g=document.createElement("div")).className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+m+'"><span class="fa fa-2x fa-file"> CSV</span></a></button>',l.appendChild(g);(f=document.querySelectorAll(".btn-toolbar")).forEach(function(e){e.appendChild(l.cloneNode(!0))})}if(e&&n&&("planATLpubs"==n||"atlphdata"==n)){console.log("Adding search link to planATLpubs and atlphdata.");var p="/digital/search/collection/atlmaps/searchterm/"+e,g=document.createElement("div");g.className="btn-group btn-group-default",g.innerHTML='<button class="cdm-btn btn btn-primary"><a href="'+p+'"><span class="fa fa-2x fa-search"> View Maps</span></a></button>';var f=document.querySelectorAll(".btn-toolbar");f.forEach(function(e){e.appendChild(g.cloneNode(!0))})}}document.addEventListener("cdm-home-page:ready",function(){gsuFixes(),gsuHomePageReady()}),document.addEventListener("cdm-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-advanced-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-landing-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-collection-search-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-item-page:ready",function(){gsuFixes(),gsuItemPageReady()}),document.addEventListener("cdm-custom-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-about-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-login-page:ready",function(){gsuFixes()}),document.addEventListener("cdm-notfound-page:ready",function(){gsuFixes()});